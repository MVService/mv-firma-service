app.post("/sha1pdf", (req, res) => {
  try {
    const { pdfB64 } = req.body;
    if (!pdfB64) return res.status(400).json({ ok:false, error:"pdfB64 n√£o informado" });

    const pdfBytes = forge.util.decode64(pdfB64);
    const md = forge.md.sha1.create();
    md.update(pdfBytes, "raw");
    const sha1hex = md.digest().toHex();

    return res.json({ ok:true, sha1hex });
  } catch (e) {
    return res.status(500).json({ ok:false, error: e.toString() });
  }
});
